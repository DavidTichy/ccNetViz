<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ccNetViz by David Tichy</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ccNetViz</h1>
        <p>JavaScript library for visualization of large-scale network graphs using WebGL</p>
        <p class="view"><a href="https://github.com/DavidTichy/ccNetViz">View the Project on GitHub <small>DavidTichy/ccNetViz</small></a></p>
        <ul>
          <li><a href="https://github.com/DavidTichy/ccNetViz/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/DavidTichy/ccNetViz/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/DavidTichy/ccNetViz">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>Overview</h3>
        <p>ccNetViz is a lightweight (22kB minified), high performance javascript library for network graphs visualization. It enables custom styling of nodes and edges, dynamic changes of the network and basic graph interactivity.</br>
            Used for example by <a href="http://cellcollective.org">Cell Collective</a> project.</br>
            ccNetViz is open source library available under <a href="http://www.gnu.org/licenses/gpl-3.0.en.html">GPLv3 License</a>.
        </p>
        <div class="container">
            <div>
	            <canvas id="drosophila"/>
            </div>
            <i>Use mouse to pan and zoom in the graph.</i>
	    </div>
        <div class="container">
            <div>
                <canvas id="macrophage"/>
            </div>
        </div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/DavidTichy">David Tichy</a></p>
      </footer>
    </div>

    <script src="js/scale.fix.js"></script>
    <script src="js/ccNetViz.min.js"></script>
    <script src="js/utils.js"></script>

    <script type="text/javascript">
        var nodeStyle = { label: { hideSize: 14 } };
   		var edgeStyle = { arrow: { texture: "images/arrow.png", hideSize: 2 } };
        var positive = { color: "rgb(171, 237, 199)" };
        var negative = { color: "rgb(244, 172, 164)" };

        var styles = {
            node: nodeStyle,
            edge: edgeStyle,
            internal: { texture: "images/red.png" },
            external: { texture: "images/orange.png" },
            positive: positive,
            negative: negative
        };

        var graphs = [];

        function create(id) {
            utils.ajax("http://davidtichy.github.io/ccNetViz/data/" + id + ".json", null, function(data) {
                var nodes = data.nodes;
                var edges = data.edges.map(function(e) {
                    return { source: nodes[e.source], target: nodes[e.target], style: e.style }
                });
                var graph = new ccNetViz(document.getElementById(id), { styles: styles });
                graph.set(nodes, edges, "force");
                graph.draw();
                graphs.push(graph);
            });
        }

        create("drosophila");
        create("macrophage");

        window.addEventListener('resize', function() {
            graphs.forEach(function(graph) {
                graph.resize();
                graph.draw();
            });
        });
	</script>
  </body>
</html>